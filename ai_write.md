# AI 写作项目 PRD v0.1

## 0. 文档信息

- **项目名称**：AI 写作空间（暂定）
- **文档版本**：v0.1
- **文档目的**：梳理新 AI 写作项目的核心目标、用户、功能范围与首期 MVP 规划，为产品设计与技术实现提供依据。
- **状态**：草案 / 待迭代

---

## 1. 产品概述

### 1.1 背景

- 现有项目 aistory：偏「多工具生成器」形态（故事、同人、诗歌、书名、情节等），通过多步表单 + 一键生成结果。
- 市场与用户反馈显示：
  - 用户不满足于「一次性生成」，更希望在一个地方**持续写作、反复打磨**。
  - 长篇创作者（小说/报告/内容运营）普遍痛点：**风格不一致、细节记不住、编辑体验割裂**。

### 1.2 新产品愿景

- 搭建一个「**单页编辑 + AI 共创**」的写作空间：
  - 用户在同一块编辑页面内完成：构思 → 初稿 → 深度改写 → 多语言发布。
  - AI 从「帮你写一篇」升级为「**写作副驾驶**」，辅助结构、表达、翻译与一致性控制。

### 1.3 与现有 aistory 的差异

- **现有**：多个独立生成器工具，各自有输入表单和输出区域，以「点一次生成一段结果」为主。
- **新项目**：
  - 以「**文档为中心**」的长线创作工作台。
  - 所有 AI 能力围绕**同一个编辑器/作品**展开（段落级、文档级、多语言版）。
  - 与「作品中心」深度结合（历史版本、设定库、模板复用）。

---

## 2. 目标用户与使用场景

### 2.1 小说 / 同人写手

- **用户画像**
  - 写长篇原创小说或同人作品，有连载需求。
  - 常驻平台：番茄/起点、AO3、LOFTER 等；对角色塑造和世界观有较高要求。
  - 对多语言存在兴趣或实际需求（例如：想把中文作品扩展到英文/日文读者）。

- **典型场景**
  - **场景 1：从构思到连载**
    - 用户输入世界观设定和主线剧情，AI 帮生成「卷/章」大纲。
    - 按章节写作，AI 协助扩写、润色、续写。
  - **场景 2：控制人物与设定一致性**
    - 用户维护角色卡和世界观设定。
    - AI 生成新情节时自动遵从原有设定，减少“人设崩坏”。
  - **场景 3：多语言连载**
    - 主文档为中文，按章生成英文/日文版本，支持双栏对照和细节校对。

### 2.2 内容运营 / 博主

- **用户画像**
  - 需要持续输出内容：博客、公众号、X/Twitter、B 站/抖音脚本等。
  - 注重节奏与账号增长，对多平台、多语言运营有一定追求。

- **典型场景**
  - **场景 1：一稿多用**
    - 在编辑器里写好一篇长文。
    - 一键生成：博客文章、X/Twitter 线程、小红书图文、抖音/TikTok 脚本。
  - **场景 2：内容日历规划**
    - 有选题池、内容日历视图，按周/月规划输出节奏。
  - **场景 3：多语言扩展**
    - 中文长文 → 英文博客版 → 目标国家/语言的本地化版本。

### 2.3 学生 / 职场写报告

- **用户画像**
  - 大学生、研究生、职场人士。
  - 写作类型包括：论文、课程作业、工作汇报、项目方案、复盘、邮件等。

- **典型场景**
  - **场景 1：结构化报告**
    - 用户给出题目和关键要点，AI 输出规范大纲。
    - 用户补充内容，AI 帮做正式化表达、逻辑优化。
  - **场景 2：学术 / 商务英语写作**
    - 用户用母语写草稿，AI 生成英语正式版（论文风/商务风）。
  - **场景 3：从报告到演示**
    - 写完报告后，一键生成 PPT 提纲/发言稿。

---

## 3. 核心用户需求（综合外网调研）

- **需求 1：对长文的「控制感」**
  - 不希望一键生成整篇；需要自己掌控大纲、节奏和观点，AI 提供辅助和建议。

- **需求 2：全篇的一致性**
  - 人物设定、世界观、专业术语、语气在长篇作品中前后一致。

- **需求 3：一体化写作空间**
  - 不想在 ChatGPT、Docs、Notion、笔记工具间频繁复制粘贴。

- **需求 4：多维度改写能力**
  - 重写、扩写、缩写、换语气、换受众、翻译，最好在选中文本后一步到位。

- **需求 5：多语言写作与本地化**
  - 用母语构思，目标语言生成成稿。
  - 专有名词、品牌词、角色名不被乱翻译，语气符合目标语言习惯。

- **需求 6：安全感（版本 & 质量）**
  - 自动保存与版本历史，不怕 AI 改坏。
  - 有一致性检查和结构检查，帮助发现逻辑/设定冲突。

---

## 4. 产品定位与价值主张

- **一句话定位**  
  - 「面向创作者与专业写作者的多语言 AI 写作空间，让你在一块编辑页面中完成从构思到成稿的全流程。」

- **核心价值**
  - **长篇写作友好**：分层摘要 + 设定库，保障长文结构和设定一致。
  - **多语言共创**：用母语构思，目标语言成文，服务全球读者与客户。
  - **流程一体化**：文档管理、模板、AI 工具和内容发布路径整合在一个空间。

---

## 5. 信息架构（IA）

### 5.1 未登录态（官网层）

- **首页**
  - 产品定位：AI 共创写作空间。
  - 核心卖点：长篇一致性、多语言支持、模板与工作流。
  - 典型场景展示：小说/同人、内容运营、报告写作。
  - 社会证明：案例 / 用户评价 / 与传统 AI 生成器对比。
  - CTA：免费开始、登录。

- **功能/用例页**
  - 按「小说写作」「内容运营」「学生/职场」拆解案例，展示 workflow。

- **价格页**
  - 免费版 vs 专业版（字数、请求数、模板、模型能力差异等）。

- **帮助中心 / 教程 / 博客**
  - 使用教学、写作技巧、AI 写作最佳实践。

### 5.2 登录态（应用层）

- **文档库**
  - 左侧：项目/文件夹树。
  - 右侧：文档列表（支持类型、标签、语言、更新时间筛选）。

- **编辑器页（核心）**
  - 左侧：大纲（章节/标题结构）。
  - 中间：主编辑区（块级编辑）。
  - 右侧：AI 助手面板（Prompt 历史、设定库、研究面板等）。

- **模板中心**
  - 按类型分类：小说/同人、博客、脚本、报告等。
  - 支持多语言模板。

- **设置**
  - 账号、订阅、语言偏好、默认风格配置等。

---

## 6. 功能设计

### 6.1 编辑器与文档管理（通用）

- **文档管理**
  - 新建/复制/重命名/删除文档。
  - 文件夹、标签、按类型分组。
  - 多语言关联：一篇原文可关联多个目标语言版本。

- **富文本编辑器（块级）**
  - 标题、段落、列表、引用、代码块、分割线、TODO 列表等。
  - `Ctrl+/` 或 `/` 呼出插入菜单。
  - 自动生成大纲视图（按标题层级）。

- **版本管理**
  - 自动保存、版本历史列表。
  - 支持回滚到任意历史版本。

### 6.2 AI 能力：选区级（局部）

- 在选中文本时弹出 AI 菜单，包含：
  - **改写**：更流畅 / 更口语 / 更正式 / 更有故事感。
  - **扩写**：扩展为更详细内容，可配置目标长度。
  - **缩写**：压缩成摘要或要点列表。
  - **换语气**：严肃、轻松、营销、学术、故事化等。
  - **换受众**：给小白、专家、老板讲。
  - **翻译**：翻译到目标语言；选项包括「自然翻译」「本地化」；保护专有名词。

### 6.3 AI 能力：文档级（全局）

- **从简要说明生成大纲**
  - 输入主题、目标受众、目的、期望长度。
  - 输出多层级可编辑大纲。

- **按大纲写作**
  - 每个大纲项对应一个文档块。
  - 支持「AI 先写草稿 / 用户先写草稿」两种模式。

- **统一风格**
  - 侧边栏有「文风配置（style_profile）」：
    - 语气、节奏、人称、正式度等。
  - 一键对整篇/选定章节做风格统一。

### 6.4 多语言支持

- **界面语言**
  - 支持中/英 UI，后续可扩展其他语言。

- **文稿语言**
  - 每篇文档有「主语言」和可选「目标语言」列表。
  - 目标语言版本与原文档形成关联关系。

- **多语言创作流水**
  - 母语构思 → 目标语言初稿 → 目标语言风格打磨。
  - 支持多语言标题、摘要生成。

### 6.5 面向不同用户类型的专属功能

- **小说/同人**
  - 角色卡与世界观设定（故事圣经）。
  - 卷/章/节结构管理。
  - 多语言连载：按章生成并维护多语言版本。

- **内容运营/博主**
  - 内容日历 & 选题池。
  - 一稿多用：从长文生成多平台版本（博客、X/Twitter、短视频脚本等）。
  - SEO 辅助（关键词建议、标题变体、多语言标题）。

- **学生/职场**
  - 报告/论文/方案/邮件模板。
  - 结构化大纲生成 + 风格校正（口语 → 正式 / 商务 / 学术）。
  - 报告 → PPT 提纲/发言稿转换。

---

## 7. 长篇风格一致 & 细节记忆的技术方案（高层）

> 这里只做产品+架构层面的高层方案，具体实现细节可单独写技术设计文档。

### 7.1 分层摘要（Hierarchical Summarization）

- **目标**：在不把整本书塞进上下文的前提下，让模型了解全局剧情与最近发展。
- **做法**：
  - 为每个作品维护：
    - **全书摘要**：背景、主线、核心冲突、主题。
    - **卷/篇摘要**（可选）：本卷主线与情绪走向。
    - **章节摘要**：本章发生了什么、涉及哪些角色、时间点。
  - 写下一章时，Prompt 包含：
    - 全书摘要。
    - 最近几章（如 N-2, N-1）的章节摘要。
    - 当前章节大纲。

### 7.2 设定库（故事圣经 / Fact Store）

- **目标**：让模型遵守已有角色/世界观/事实设定。
- **做法**：
  - 把**角色设定、世界观设定、关键事实**结构化存储：
    - 角色：姓名、外貌、性格、背景、口头禅、关系。
    - 世界观：势力、地理、时间线、规则。
    - 事实：重要事件（时间、地点、结果）。
  - 通过抽取 Prompt 周期性从文本中更新这些信息。
  - 写作前，根据当前章节涉及的角色/地点，从设定库检索相关设定，附加到 Prompt 中，作为「硬规则」。

### 7.3 风格 Profile（Style Profile）

- **目标**：在多章节、多语言的写作中保持稳定的语气和文风。
- **做法**：
  - 每个作品维护一个 `style_profile`：
    - 从用户提供的样本文本中分析风格（可选）。
    - 或基于参数选择（语气、节奏、人称、正式度）生成风格说明。
  - 每次调用模型时，在系统 Prompt 中固化该风格 Profile，并在必要时附上一小段样本文本。

### 7.4 一致性检查器（Consistency Checker）

- **目标**：在写完一章/一段后检查逻辑和设定上的矛盾。
- **做法**：
  - 输入：
    - 当前章节全文。
    - 相关设定库摘要。
    - 最近几章摘要。
  - 输出：
    - 可能的矛盾点（角色信息、时间线、地点、世界观规则）。
  - 前端在编辑器中高亮提示，由用户人工确认和修改。

### 7.5 模块划分（概念级）

- **模块 1：文档与章节管理**
- **模块 2：摘要服务（Summarization Service）**
- **模块 3：设定库服务（Story Bible / Fact Store）**
- **模块 4：风格配置与管理（Style Service）**
- **模块 5：一致性检查服务（Consistency Service）**
- **模块 6：AI 网关**
  - 封装对大模型的调用，把 Prompt 组装逻辑与业务逻辑解耦。

---

## 8. MVP 范围（建议）

### 8.1 MVP 目标

- 在 1–2 个迭代周期内，提供一个**可被真实用户用于长文写作**的最小可行版本，以获取反馈。

### 8.2 MVP 必须包含

- **UI & 文档**
  - 登录/注册。
  - 文档库 + 文档详情（单页编辑器）。
  - 基础富文本编辑与大纲视图。
  - 自动保存 + 版本历史。

- **AI 功能**
  - 选区级：改写、扩写、缩写、翻译、换语气/受众。
  - 文档级：从说明生成大纲、按大纲生成草稿、风格统一（简化版）。

- **多语言**
  - UI：中/英。
  - 写作：中/英（其他主流语言可作为 Beta 选项，仅在翻译/改写时开放）。

- **模板**
  - 小说/故事模板。
  - 博客文章模板。
  - 报告/方案模板。

### 8.3 MVP 不做（或弱化）

- 不做复杂团队协作（多人实时编辑）。
- 不做复杂 SEO 诊断、深度 Research 面板。
- 不做完整的内容日历系统（可只做简单选题列表）。

---

## 9. 后续迭代方向（概要）

- **面向小说/同人**：更强的故事圣经管理、时间线视图、角色关系图。
- **面向内容运营**：内容日历、多平台发布接口、多账号管理。
- **面向学生/职场**：引用规范工具、学术检测集成（仅做辅助，强调人工核实）。
- **多语言**：增加小语种 UI，优化本地化文案与本地语气模板。
- **协作与团队版**：共享文档空间、权限控制、评论/建议模式。

## 10. 来自 Reddit/Twitter 的补充痛点与设计原则

- **信任与事实准确性**
  - 痛点：AI 容易瞎编事实、伪造引用，SEO 和学术/报告用户对内容可靠性高度敏感。
  - 设计原则：
    - 提供「事实检查模式（Fact-check Mode）」：标记可能需要人工核实的事实点。
    - 支持对接用户提供的来源链接/文献，由 AI 基于来源进行改写，而不是空想造句。
    - 在产品文案中明确：本工具只提供「标记与辅助核实」，不承诺自动生成完全可靠事实。

- **抄袭与 AI 检测焦虑**
  - 痛点：学生、博主担心作品被学校/平台检测为 AI 写作，或与既有文本过于相似。
  - 设计原则：
    - 提供「原创度优化」能力，提示重复句式、模板化表达，鼓励用户做个性化改写。
    - 支持一次生成多个改写版本，增加表达多样性。
    - 明确声明不会提供「绕过 AI 检测」功能，所有建议仅用于提高写作质量与多样性。

- **社区与伦理敏感（尤其同人圈）**
  - 痛点：同人读者和作者普遍反感未声明的 AI 作品，以及对特定作者/作品的直接模仿。
  - 设计原则：
    - 工具定位为「创作辅助」而非「完全代写」，在文案和交互上强调用户主导创作。
    - 为同人场景提供「仅润色/改写已有文本」模式，弱化一键整章自动生成。
    - 避免提供明显侵权导向的功能（如：「模仿某作者/某 IP 原文风格」）。

- **写作教练需求（不是代写）**
  - 痛点：严肃写作者希望借助 AI 提升写作能力，而不是完全被替代。
  - 设计原则：
    - 增加「写作教练模式（Coach Mode）」：优先给出点评与修改建议，而不是直接替换文本。
    - 从风格、逻辑、情感、节奏多个维度给出反馈和示例改写，由用户决定是否采纳。

- **Prompt 与工作流复杂度**
  - 痛点：在 ChatGPT 等工具中写好一篇长文，需要用户自己设计复杂 prompt、分步骤执行，学习成本高。
  - 设计原则：
    - 引入「工作流/宏系统」：用户可将常用的多步流程保存为模板（如：构思→大纲→首稿→标题→多平台拆分）。
    - 支持社区/官方提供的预置工作流模板，降低新手首次使用的门槛。

- **内容所有权与导出能力**
  - 痛点：担心内容被平台锁死或未来迁移困难。
  - 设计原则：
    - 默认支持多种导出格式（Markdown / DOCX / PDF / ePub 等），尽量使用开放格式。
    - 提供「打包导出作品全集」能力（含章节结构与设定摘要），保障创作者对作品的主权。

- **隐私与训练数据使用**
  - 痛点：用户担心作品被用于训练模型，尤其是未公开的小说初稿、公司内部报告。
  - 设计原则：
    - 在设置中提供「是否允许内容用于模型训练/优化」的显式开关，默认关闭。
    - 针对高敏感用户/团队，预留更严格的数据策略选项（如私有部署、定期删除）。
    - 在 UI 中清晰呈现数据流向和存储策略，降低不确定感。

- **性能、成本与上下文预算**
  - 痛点：长篇写作对上下文和调用次数要求高，容易遇到响应慢、价格高、调用失败等问题。
  - 设计原则：
    - 使用分级模型策略：便宜模型负责日常改写/润色，高质量模型用于关键章节生成与多语言本地化。
    - 对「重型操作」（例如整本书风格统一、全书摘要重算）采用异步任务，不阻塞编辑体验。
    - 适度可视化「本次操作的上下文/Token 估算」，便于用户理解成本与等待时间。

- **移动端与碎片时间创作**
  - 痛点：许多灵感和短内容在手机/碎片时间里产生，但传统长文写作工具多为桌面优先。
  - 设计原则：
    - 从一开始就在交互设计上考虑移动端体验：响应式布局、精简工具栏、大触控区域。
    - 支持「灵感卡片」模式：在移动端先快速记录多条灵感，之后在桌面端拉入长篇作品中继续创作。
